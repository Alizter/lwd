<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ui (nottui.Nottui.Ui)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">nottui</a> &#x00BB; <a href="../index.html">Nottui</a> &#x00BB; Ui</nav><h1>Module <code>Nottui.Ui</code></h1><nav class="toc"><ul><li><a href="#layout-specifications">Layout specifications</a></li><li><a href="#primitive-images">Primitive images</a></li><li><a href="#event-handles">Event handles</a></li><li><a href="#sensors">Sensors</a></li><li><a href="#composite-images">Composite images</a></li></ul></nav></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt></dl><dl><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Printing UI element</p></dd></dl><section><header><h2 id="layout-specifications"><a href="#layout-specifications" class="anchor"></a>Layout specifications</h2></header><dl><dt class="spec type" id="type-layout_spec"><a href="#type-layout_spec" class="anchor"></a><code><span class="keyword">type</span> layout_spec</code><code> = </code><code>{</code><table class="record"><tr id="type-layout_spec.w" class="anchored"><td class="def field"><a href="#type-layout_spec.w" class="anchor"></a><code>w : int;</code></td></tr><tr id="type-layout_spec.h" class="anchored"><td class="def field"><a href="#type-layout_spec.h" class="anchor"></a><code>h : int;</code></td></tr><tr id="type-layout_spec.sw" class="anchored"><td class="def field"><a href="#type-layout_spec.sw" class="anchor"></a><code>sw : int;</code></td></tr><tr id="type-layout_spec.sh" class="anchored"><td class="def field"><a href="#type-layout_spec.sh" class="anchor"></a><code>sh : int;</code></td></tr></table><code>}</code></dt><dd><p>The type of layout specifications.</p><p>For each axis, layout is specified as a pair of integers:</p><ul><li>a fixed part that is expressed as a number of columns or rows</li><li>a stretchable part that represents a strength used to share the remaining space (or 0 if the UI doesn't extend over free space)</li></ul></dd></dl><dl><dt class="spec value" id="val-pp_layout_spec"><a href="#val-pp_layout_spec" class="anchor"></a><code><span class="keyword">val</span> pp_layout_spec : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-layout_spec">layout_spec</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Printing layout specification</p></dd></dl><dl><dt class="spec value" id="val-layout_spec"><a href="#val-layout_spec" class="anchor"></a><code><span class="keyword">val</span> layout_spec : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-layout_spec">layout_spec</a></code></dt><dd><p>Get the layout spec for an UI element</p></dd></dl><dl><dt class="spec value" id="val-layout_width"><a href="#val-layout_width" class="anchor"></a><code><span class="keyword">val</span> layout_width : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Get the layout width component of an UI element</p></dd></dl><dl><dt class="spec value" id="val-layout_stretch_width"><a href="#val-layout_stretch_width" class="anchor"></a><code><span class="keyword">val</span> layout_stretch_width : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Get the layout stretch width strength of an UI element</p></dd></dl><dl><dt class="spec value" id="val-layout_height"><a href="#val-layout_height" class="anchor"></a><code><span class="keyword">val</span> layout_height : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Get the layout height component of an UI element</p></dd></dl><dl><dt class="spec value" id="val-layout_stretch_height"><a href="#val-layout_stretch_height" class="anchor"></a><code><span class="keyword">val</span> layout_stretch_height : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Get the layout height strength of an UI element</p></dd></dl></section><section><header><h2 id="primitive-images"><a href="#primitive-images" class="anchor"></a>Primitive images</h2></header><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val</span> empty : <a href="index.html#type-t">t</a></code></dt><dd><p>The empty surface: it occupies no space and does not do anything</p></dd></dl><dl><dt class="spec value" id="val-atom"><a href="#val-atom" class="anchor"></a><code><span class="keyword">val</span> atom : Notty.image <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Primitive surface that displays a Notty image</p></dd></dl><dl><dt class="spec value" id="val-space"><a href="#val-space" class="anchor"></a><code><span class="keyword">val</span> space : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Void space of dimensions <code>x,y</code>. Useful for padding and interstitial space.</p></dd></dl></section><section><header><h2 id="event-handles"><a href="#event-handles" class="anchor"></a>Event handles</h2></header><dl><dt class="spec type" id="type-may_handle"><a href="#type-may_handle" class="anchor"></a><code><span class="keyword">type</span> may_handle</code> = <code>[ </code><table class="variant"><tr id="type-may_handle.Unhandled" class="anchored"><td class="def constructor"><a href="#type-may_handle.Unhandled" class="anchor"></a><code>| </code><code>`Unhandled</code></td></tr><tr id="type-may_handle.Handled" class="anchored"><td class="def constructor"><a href="#type-may_handle.Handled" class="anchor"></a><code>| </code><code>`Handled</code></td></tr></table><code> ]</code></dt><dd><p>An event is propagated until it gets handled. Handler functions return a value of type <code>may_handle</code> to indicate whether the event was handled or not.</p></dd></dl><dl><dt class="spec type" id="type-mouse_handler"><a href="#type-mouse_handler" class="anchor"></a><code><span class="keyword">type</span> mouse_handler</code><code> = <span>x:int</span> <span>&#45;&gt;</span> <span>y:int</span> <span>&#45;&gt;</span> Notty.Unescape.button <span>&#45;&gt;</span> <span>[ <a href="index.html#type-may_handle">may_handle</a> <span><span>| `Grab</span> of <span>(<span>x:int</span> <span>&#45;&gt;</span> <span>y:int</span> <span>&#45;&gt;</span> unit)</span> * <span>(<span>x:int</span> <span>&#45;&gt;</span> <span>y:int</span> <span>&#45;&gt;</span> unit)</span></span> ]</span></code></dt><dd><p>The type of handlers for mouse events. They receive the (absolute) coordinates of the mouse, the button that was clicked.</p><p>In return they indicate whether the event was handled or if the mouse is &quot;grabbed&quot;.</p><p>When grabbed, two functions <code>on_move</code> and <code>on_release</code> should be provided. The <code>on_move</code> function will be called when the mouse move while the button is pressed and the <code>on_release</code> function is called when the button is released.</p><p>During that time, no other mouse input events can be dispatched.</p></dd></dl><dl><dt class="spec type" id="type-semantic_key"><a href="#type-semantic_key" class="anchor"></a><code><span class="keyword">type</span> semantic_key</code> = <code>[ </code><table class="variant"><tr id="type-semantic_key.Copy" class="anchored"><td class="def constructor"><a href="#type-semantic_key.Copy" class="anchor"></a><code>| </code><code>`Copy</code></td></tr><tr id="type-semantic_key.Paste" class="anchored"><td class="def constructor"><a href="#type-semantic_key.Paste" class="anchor"></a><code>| </code><code>`Paste</code></td></tr><tr id="type-semantic_key.Focus" class="anchored"><td class="def constructor"><a href="#type-semantic_key.Focus" class="anchor"></a><code>| </code><code>`Focus <span class="keyword">of</span> <span>[ `Next <span>| `Prev</span> <span>| `Left</span> <span>| `Right</span> <span>| `Up</span> <span>| `Down</span> ]</span></code></td></tr></table><code> ]</code></dt><dd><p>Key handlers normally reacts to keyboard input but a few special keys are defined to represent higher-level actions. Copy and paste, as well as focus movements.</p></dd></dl><dl><dt class="spec type" id="type-key"><a href="#type-key" class="anchor"></a><code><span class="keyword">type</span> key</code><code> = <span>[ Notty.Unescape.special <span><span>| `Uchar</span> of Stdlib.Uchar.t</span> <span><span>| `ASCII</span> of char</span> <span>| <a href="index.html#type-semantic_key">semantic_key</a></span> ]</span> * Notty.Unescape.mods</code></dt><dd><p>A key is the pair of a main key and a list of modifiers</p></dd></dl><dl><dt class="spec type" id="type-mouse"><a href="#type-mouse" class="anchor"></a><code><span class="keyword">type</span> mouse</code><code> = Notty.Unescape.mouse</code></dt><dd><p>Specification of mouse inputs, taken from Notty</p></dd></dl><dl><dt class="spec type" id="type-event"><a href="#type-event" class="anchor"></a><code><span class="keyword">type</span> event</code> = <code>[ </code><table class="variant"><tr id="type-event.Key" class="anchored"><td class="def constructor"><a href="#type-event.Key" class="anchor"></a><code>| </code><code>`Key <span class="keyword">of</span> <a href="index.html#type-key">key</a></code></td></tr><tr id="type-event.Mouse" class="anchored"><td class="def constructor"><a href="#type-event.Mouse" class="anchor"></a><code>| </code><code>`Mouse <span class="keyword">of</span> <a href="index.html#type-mouse">mouse</a></code></td></tr><tr id="type-event.Paste" class="anchored"><td class="def constructor"><a href="#type-event.Paste" class="anchor"></a><code>| </code><code>`Paste <span class="keyword">of</span> Notty.Unescape.paste</code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec value" id="val-mouse_area"><a href="#val-mouse_area" class="anchor"></a><code><span class="keyword">val</span> mouse_area : <a href="index.html#type-mouse_handler">mouse_handler</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Handle mouse events that happens over an ui.</p></dd></dl><dl><dt class="spec value" id="val-keyboard_area"><a href="#val-keyboard_area" class="anchor"></a><code><span class="keyword">val</span> keyboard_area : <span>?&#8288;focus:<a href="../Focus/index.html#type-status">Focus.status</a></span> <span>&#45;&gt;</span> <span>(<a href="index.html#type-key">key</a> <span>&#45;&gt;</span> <a href="index.html#type-may_handle">may_handle</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Define a focus receiver, handle keyboard events over the focused area</p></dd></dl><dl><dt class="spec value" id="val-has_focus"><a href="#val-has_focus" class="anchor"></a><code><span class="keyword">val</span> has_focus : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Check if this UI has focus, either directly (it is a focused <code>keyboard_area</code>), or inherited (one of the child is a focused <code>keyboard_area</code>).</p></dd></dl><dl><dt class="spec value" id="val-event_filter"><a href="#val-event_filter" class="anchor"></a><code><span class="keyword">val</span> event_filter : <span>?&#8288;focus:<a href="../Focus/index.html#type-status">Focus.status</a></span> <span>&#45;&gt;</span> <span>(<span>[ <span>`Key of <a href="index.html#type-key">key</a></span> <span><span>| `Mouse</span> of <a href="index.html#type-mouse">mouse</a></span> ]</span> <span>&#45;&gt;</span> <a href="index.html#type-may_handle">may_handle</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>A hook that intercepts and can interrupt events when they reach a sub-part of the UI.</p></dd></dl></section><section><header><h2 id="sensors"><a href="#sensors" class="anchor"></a>Sensors</h2><p>Sensors are used to observe the physical dimensions after layout has been resolved.</p></header><dl><dt class="spec type" id="type-size_sensor"><a href="#type-size_sensor" class="anchor"></a><code><span class="keyword">type</span> size_sensor</code><code> = <span>w:int</span> <span>&#45;&gt;</span> <span>h:int</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>The size sensor callback tells you the <code>w</code>idth and <code>h</code>eight of UI. The sensor is invoked only when the UI is visible.</p></dd></dl><dl><dt class="spec value" id="val-size_sensor"><a href="#val-size_sensor" class="anchor"></a><code><span class="keyword">val</span> size_sensor : <a href="index.html#type-size_sensor">size_sensor</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Attach a size sensor to an image</p></dd></dl><dl><dt class="spec type" id="type-frame_sensor"><a href="#type-frame_sensor" class="anchor"></a><code><span class="keyword">type</span> frame_sensor</code><code> = <span>x:int</span> <span>&#45;&gt;</span> <span>y:int</span> <span>&#45;&gt;</span> <span>w:int</span> <span>&#45;&gt;</span> <span>h:int</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dd><p>The frame sensor callback gives you the whole rectangle where the widget is displayed.</p><p>The first for components are applied during before visiting children, the last unit is applied after visiting children.</p></dd></dl><dl><dt class="spec value" id="val-transient_sensor"><a href="#val-transient_sensor" class="anchor"></a><code><span class="keyword">val</span> transient_sensor : <a href="index.html#type-frame_sensor">frame_sensor</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Attach a transient frame sensor: the callback will be invoked only once, on next frame.</p></dd></dl><dl><dt class="spec value" id="val-permanent_sensor"><a href="#val-permanent_sensor" class="anchor"></a><code><span class="keyword">val</span> permanent_sensor : <a href="index.html#type-frame_sensor">frame_sensor</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Attach a permanent sensor: the callback will be invoked on every frame. Note that this can have a significant impact on performance.</p></dd></dl></section><section><header><h2 id="composite-images"><a href="#composite-images" class="anchor"></a>Composite images</h2></header><dl><dt class="spec value" id="val-resize"><a href="#val-resize" class="anchor"></a><code><span class="keyword">val</span> resize : <span>?&#8288;w:int</span> <span>&#45;&gt;</span> <span>?&#8288;h:int</span> <span>&#45;&gt;</span> <span>?&#8288;sw:int</span> <span>&#45;&gt;</span> <span>?&#8288;sh:int</span> <span>&#45;&gt;</span> <span>?&#8288;pad:<a href="../Gravity/index.html#type-t">Gravity.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;crop:<a href="../Gravity/index.html#type-t">Gravity.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;bg:Notty.attr</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Override the layout specification of an image with provided <code>w</code>, <code>h</code>, <code>sw</code> or <code>sh</code>.</p><p><code>pad</code> and <code>crop</code> are used to determine how to align the UI when there is too much or not enough space.</p><p><code>bg</code> is used to fill the padded background.</p></dd></dl><dl><dt class="spec value" id="val-shift_area"><a href="#val-shift_area" class="anchor"></a><code><span class="keyword">val</span> shift_area : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Shift the contents of a UI by a certain amount. Positive values crop the image while negative values pad.</p><p>This primitive is used to implement scrolling.</p></dd></dl><dl><dt class="spec value" id="val-join_x"><a href="#val-join_x" class="anchor"></a><code><span class="keyword">val</span> join_x : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Horizontally join two images</p></dd></dl><dl><dt class="spec value" id="val-join_y"><a href="#val-join_y" class="anchor"></a><code><span class="keyword">val</span> join_y : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Vertically join two images</p></dd></dl><dl><dt class="spec value" id="val-join_z"><a href="#val-join_z" class="anchor"></a><code><span class="keyword">val</span> join_z : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Superpose two images. The right one will be on top.</p></dd></dl><dl><dt class="spec value" id="val-pack_x"><a href="#val-pack_x" class="anchor"></a><code><span class="keyword">val</span> pack_x : <span><a href="index.html#type-t">t</a> <a href="../../../lwd/Lwd_utils/index.html#type-monoid">Lwd_utils.monoid</a></span></code></dt><dd><p>Horizontal concatenation monoid</p></dd></dl><dl><dt class="spec value" id="val-pack_y"><a href="#val-pack_y" class="anchor"></a><code><span class="keyword">val</span> pack_y : <span><a href="index.html#type-t">t</a> <a href="../../../lwd/Lwd_utils/index.html#type-monoid">Lwd_utils.monoid</a></span></code></dt><dd><p>Vertical concatenation monoid</p></dd></dl><dl><dt class="spec value" id="val-pack_z"><a href="#val-pack_z" class="anchor"></a><code><span class="keyword">val</span> pack_z : <span><a href="index.html#type-t">t</a> <a href="../../../lwd/Lwd_utils/index.html#type-monoid">Lwd_utils.monoid</a></span></code></dt><dd><p>Superposition monoid</p></dd></dl><dl><dt class="spec value" id="val-hcat"><a href="#val-hcat" class="anchor"></a><code><span class="keyword">val</span> hcat : <span><a href="index.html#type-t">t</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Short-hand for horizontally joining a list of images</p></dd></dl><dl><dt class="spec value" id="val-vcat"><a href="#val-vcat" class="anchor"></a><code><span class="keyword">val</span> vcat : <span><a href="index.html#type-t">t</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Short-hand for vertically joining a list of images</p></dd></dl><dl><dt class="spec value" id="val-zcat"><a href="#val-zcat" class="anchor"></a><code><span class="keyword">val</span> zcat : <span><a href="index.html#type-t">t</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Short-hand for superposing a list of images</p></dd></dl></section></div></body></html>