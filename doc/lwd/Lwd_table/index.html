<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Lwd_table (lwd.Lwd_table)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">lwd</a> &#x00BB; Lwd_table</nav><h1>Module <code>Lwd_table</code></h1><h2 id="table-manipulation"><a href="#table-manipulation" class="anchor"></a>Table manipulation</h2><p><code>Lwd_table</code> is an ordered collection with an impure interface. It is designed to be efficient in an interactive setting.</p><p>The interface mimics the one of a doubly-linked lists: from a node, called row, you can iterate backward and forward, insert and delete other nodes, and change the value it is bound to.</p><p>The sequence of nodes can be observed by map/reduce operations, that will be recomputed efficiently when sequence changes.</p><nav class="toc"><ul><li><a href="#inserting-rows">Inserting rows</a></li><li><a href="#iterating-over-rows">Iterating over rows</a></li><li><a href="#accessing-and-changing-row-contents">Accessing and changing row contents</a></li><li><a href="#removing-rows">Removing rows</a></li><li><a href="#observing-table-contents">Observing table contents</a></li></ul></nav></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'a t</span></code></dt><dt class="spec type" id="type-row"><a href="#type-row" class="anchor"></a><code><span class="keyword">type</span> <span>'a row</span></code></dt><dd><p>The type of tables</p></dd></dl><dl><dt class="spec value" id="val-make"><a href="#val-make" class="anchor"></a><code><span class="keyword">val</span> make : unit <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Create a new table</p></dd></dl><section><header><h3 id="inserting-rows"><a href="#inserting-rows" class="anchor"></a>Inserting rows</h3></header><dl><dt class="spec value" id="val-prepend"><a href="#val-prepend" class="anchor"></a><code><span class="keyword">val</span> prepend : <span>?&#8288;set:<span class="type-var">'a</span></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-row">row</a></span></code></dt><dd><p>Insert and return a new row at the start of a table. It can be optionnally initialized to the value of <code>set</code>.</p></dd></dl><dl><dt class="spec value" id="val-append"><a href="#val-append" class="anchor"></a><code><span class="keyword">val</span> append : <span>?&#8288;set:<span class="type-var">'a</span></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-row">row</a></span></code></dt><dd><p>Insert and return a new row at the end of a table. It can be optionnally initialized to the value of <code>set</code>.</p></dd></dl><dl><dt class="spec value" id="val-prepend'"><a href="#val-prepend'" class="anchor"></a><code><span class="keyword">val</span> prepend' : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-append'"><a href="#val-append'" class="anchor"></a><code><span class="keyword">val</span> append' : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-before"><a href="#val-before" class="anchor"></a><code><span class="keyword">val</span> before : <span>?&#8288;set:<span class="type-var">'a</span></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-row">row</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-row">row</a></span></code></dt><dd><p>Insert and return a new row just before an existing row. It can be optionnally initialized to the value of <code>set</code>.</p><p>If the input row is unbound (<code>is_bound</code> returns false), the returned row is too.</p></dd></dl><dl><dt class="spec value" id="val-after"><a href="#val-after" class="anchor"></a><code><span class="keyword">val</span> after : <span>?&#8288;set:<span class="type-var">'a</span></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-row">row</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-row">row</a></span></code></dt><dd><p>Insert and return a new row just after an existing row. It can be optionnally initialized to the value of <code>set</code>.</p><p>If the input row is unbound (<code>is_bound</code> returns false), the returned row is too.</p></dd></dl></section><section><header><h3 id="iterating-over-rows"><a href="#iterating-over-rows" class="anchor"></a>Iterating over rows</h3></header><dl><dt class="spec value" id="val-first"><a href="#val-first" class="anchor"></a><code><span class="keyword">val</span> first : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="index.html#type-row">row</a></span> option</span></code></dt><dd><p>Returns the first row of a table, or <code>None</code> if the table is empty</p></dd></dl><dl><dt class="spec value" id="val-last"><a href="#val-last" class="anchor"></a><code><span class="keyword">val</span> last : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="index.html#type-row">row</a></span> option</span></code></dt><dd><p>Returns the last row of a table, or <code>None</code> if the table is empty</p></dd></dl><dl><dt class="spec value" id="val-next"><a href="#val-next" class="anchor"></a><code><span class="keyword">val</span> next : <span><span class="type-var">'a</span> <a href="index.html#type-row">row</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="index.html#type-row">row</a></span> option</span></code></dt><dd><p>Returns the row next to another one, or <code>None</code> if the input row is unbound or is the last row</p></dd></dl><dl><dt class="spec value" id="val-prev"><a href="#val-prev" class="anchor"></a><code><span class="keyword">val</span> prev : <span><span class="type-var">'a</span> <a href="index.html#type-row">row</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="index.html#type-row">row</a></span> option</span></code></dt><dd><p>Returns the row just before another one, or <code>None</code> if the input row is unbound or is the first row</p></dd></dl></section><section><header><h3 id="accessing-and-changing-row-contents"><a href="#accessing-and-changing-row-contents" class="anchor"></a>Accessing and changing row contents</h3></header><dl><dt class="spec value" id="val-get"><a href="#val-get" class="anchor"></a><code><span class="keyword">val</span> get : <span><span class="type-var">'a</span> <a href="index.html#type-row">row</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span></code></dt><dd><p>Get the value associated with a row, if any, or <code>None</code> if the row is unbound</p></dd></dl><dl><dt class="spec value" id="val-set"><a href="#val-set" class="anchor"></a><code><span class="keyword">val</span> set : <span><span class="type-var">'a</span> <a href="index.html#type-row">row</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the value associated with a row, or do nothing if the row is unbound</p></dd></dl><dl><dt class="spec value" id="val-unset"><a href="#val-unset" class="anchor"></a><code><span class="keyword">val</span> unset : <span><span class="type-var">'a</span> <a href="index.html#type-row">row</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Unset the value associated with a row</p></dd></dl></section><section><header><h3 id="removing-rows"><a href="#removing-rows" class="anchor"></a>Removing rows</h3></header><dl><dt class="spec value" id="val-is_bound"><a href="#val-is_bound" class="anchor"></a><code><span class="keyword">val</span> is_bound : <span><span class="type-var">'a</span> <a href="index.html#type-row">row</a></span> <span>&#45;&gt;</span> bool</code></dt><dd><p>Returns <code>true</code> iff the row is bound in a table (it has not beem <code>remove</code>d yet, the table has not been <code>clear</code>ed)</p></dd></dl><dl><dt class="spec value" id="val-remove"><a href="#val-remove" class="anchor"></a><code><span class="keyword">val</span> remove : <span><span class="type-var">'a</span> <a href="index.html#type-row">row</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>remove</code> a row from its table, <code>is_bound</code> will be <code>true</code> after that</p></dd></dl><dl><dt class="spec value" id="val-clear"><a href="#val-clear" class="anchor"></a><code><span class="keyword">val</span> clear : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Remove all rows from a table</p></dd></dl></section><section><header><h3 id="observing-table-contents"><a href="#observing-table-contents" class="anchor"></a>Observing table contents</h3></header><dl><dt class="spec value" id="val-reduce"><a href="#val-reduce" class="anchor"></a><code><span class="keyword">val</span> reduce : <span><span class="type-var">'a</span> <a href="../Lwd_utils/index.html#type-monoid">Lwd_utils.monoid</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../Lwd/index.html#type-t">Lwd.t</a></span></code></dt><dd><p>Observe the content of a table by reducing it with a monoid</p></dd></dl><dl><dt class="spec value" id="val-map_reduce"><a href="#val-map_reduce" class="anchor"></a><code><span class="keyword">val</span> map_reduce : <span>(<span><span class="type-var">'a</span> <a href="index.html#type-row">row</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="../Lwd_utils/index.html#type-monoid">Lwd_utils.monoid</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="../Lwd/index.html#type-t">Lwd.t</a></span></code></dt><dd><p>Observe the content of a table by mapping and reducing it</p></dd></dl><dl><dt class="spec value" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span class="keyword">val</span> iter : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Immediate, non reactive, iteration over elements of a table</p></dd></dl></section></div></body></html>