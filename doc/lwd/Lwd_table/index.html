<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Lwd_table (lwd.Lwd_table)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">lwd</a> &#x00BB; Lwd_table</nav><header class="odoc-preamble"><h1>Module <code><span>Lwd_table</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#table-manipulation">Table manipulation</a><ul><li><a href="#inserting-rows">Inserting rows</a></li><li><a href="#iterating-over-rows">Iterating over rows</a></li><li><a href="#accessing-and-changing-row-contents">Accessing and changing row contents</a></li><li><a href="#removing-rows">Removing rows</a></li><li><a href="#observing-table-contents">Observing table contents</a></li></ul></li></ul></nav><div class="odoc-content"><h2 id="table-manipulation"><a href="#table-manipulation" class="anchor"></a>Table manipulation</h2><p><code>Lwd_table</code> is an ordered collection with an impure interface. It is designed to be efficient in an interactive setting.</p><p>The interface mimics the one of a doubly-linked lists: from a node, called row, you can iterate backward and forward, insert and delete other nodes, and change the value it is bound to.</p><p>The sequence of nodes can be observed by map/reduce operations, that will be recomputed efficiently when sequence changes.</p><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-row" class="anchored"><a href="#type-row" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a row</span></span></code></div><div class="spec-doc"><p>The type of tables</p></div></div><div class="odoc-spec"><div class="spec value" id="val-make" class="anchored"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Create a new table</p></div></div><h3 id="inserting-rows"><a href="#inserting-rows" class="anchor"></a>Inserting rows</h3><div class="odoc-spec"><div class="spec value" id="val-prepend" class="anchored"><a href="#val-prepend" class="anchor"></a><code><span><span class="keyword">val</span> prepend : <span>?set:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-row">row</a></span></span></code></div><div class="spec-doc"><p>Insert and return a new row at the start of a table. It can be optionnally initialized to the value of <code>set</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-append" class="anchored"><a href="#val-append" class="anchor"></a><code><span><span class="keyword">val</span> append : <span>?set:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-row">row</a></span></span></code></div><div class="spec-doc"><p>Insert and return a new row at the end of a table. It can be optionnally initialized to the value of <code>set</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prepend'" class="anchored"><a href="#val-prepend'" class="anchor"></a><code><span><span class="keyword">val</span> prepend' : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-append'" class="anchored"><a href="#val-append'" class="anchor"></a><code><span><span class="keyword">val</span> append' : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-before" class="anchored"><a href="#val-before" class="anchor"></a><code><span><span class="keyword">val</span> before : <span>?set:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-row">row</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-row">row</a></span></span></code></div><div class="spec-doc"><p>Insert and return a new row just before an existing row. It can be optionnally initialized to the value of <code>set</code>.</p><p>If the input row is unbound (<code>is_bound</code> returns false), the returned row is too.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-after" class="anchored"><a href="#val-after" class="anchor"></a><code><span><span class="keyword">val</span> after : <span>?set:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-row">row</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-row">row</a></span></span></code></div><div class="spec-doc"><p>Insert and return a new row just after an existing row. It can be optionnally initialized to the value of <code>set</code>.</p><p>If the input row is unbound (<code>is_bound</code> returns false), the returned row is too.</p></div></div><h3 id="iterating-over-rows"><a href="#iterating-over-rows" class="anchor"></a>Iterating over rows</h3><div class="odoc-spec"><div class="spec value" id="val-first" class="anchored"><a href="#val-first" class="anchor"></a><code><span><span class="keyword">val</span> first : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-row">row</a></span> option</span></span></code></div><div class="spec-doc"><p>Returns the first row of a table, or <code>None</code> if the table is empty</p></div></div><div class="odoc-spec"><div class="spec value" id="val-last" class="anchored"><a href="#val-last" class="anchor"></a><code><span><span class="keyword">val</span> last : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-row">row</a></span> option</span></span></code></div><div class="spec-doc"><p>Returns the last row of a table, or <code>None</code> if the table is empty</p></div></div><div class="odoc-spec"><div class="spec value" id="val-next" class="anchored"><a href="#val-next" class="anchor"></a><code><span><span class="keyword">val</span> next : <span><span><span class="type-var">'a</span> <a href="#type-row">row</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-row">row</a></span> option</span></span></code></div><div class="spec-doc"><p>Returns the row next to another one, or <code>None</code> if the input row is unbound or is the last row</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prev" class="anchored"><a href="#val-prev" class="anchor"></a><code><span><span class="keyword">val</span> prev : <span><span><span class="type-var">'a</span> <a href="#type-row">row</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-row">row</a></span> option</span></span></code></div><div class="spec-doc"><p>Returns the row just before another one, or <code>None</code> if the input row is unbound or is the first row</p></div></div><h3 id="accessing-and-changing-row-contents"><a href="#accessing-and-changing-row-contents" class="anchor"></a>Accessing and changing row contents</h3><div class="odoc-spec"><div class="spec value" id="val-get" class="anchored"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><span><span class="type-var">'a</span> <a href="#type-row">row</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p>Get the value associated with a row, if any, or <code>None</code> if the row is unbound</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set" class="anchored"><a href="#val-set" class="anchor"></a><code><span><span class="keyword">val</span> set : <span><span><span class="type-var">'a</span> <a href="#type-row">row</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Set the value associated with a row, or do nothing if the row is unbound</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unset" class="anchored"><a href="#val-unset" class="anchor"></a><code><span><span class="keyword">val</span> unset : <span><span><span class="type-var">'a</span> <a href="#type-row">row</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Unset the value associated with a row</p></div></div><h3 id="removing-rows"><a href="#removing-rows" class="anchor"></a>Removing rows</h3><div class="odoc-spec"><div class="spec value" id="val-is_bound" class="anchored"><a href="#val-is_bound" class="anchor"></a><code><span><span class="keyword">val</span> is_bound : <span><span><span class="type-var">'a</span> <a href="#type-row">row</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Returns <code>true</code> iff the row is bound in a table (it has not beem <code>remove</code>d yet, the table has not been <code>clear</code>ed)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-remove" class="anchored"><a href="#val-remove" class="anchor"></a><code><span><span class="keyword">val</span> remove : <span><span><span class="type-var">'a</span> <a href="#type-row">row</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>remove</code> a row from its table, <code>is_bound</code> will be <code>true</code> after that</p></div></div><div class="odoc-spec"><div class="spec value" id="val-clear" class="anchored"><a href="#val-clear" class="anchor"></a><code><span><span class="keyword">val</span> clear : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Remove all rows from a table</p></div></div><h3 id="observing-table-contents"><a href="#observing-table-contents" class="anchor"></a>Observing table contents</h3><div class="odoc-spec"><div class="spec value" id="val-reduce" class="anchored"><a href="#val-reduce" class="anchor"></a><code><span><span class="keyword">val</span> reduce : <span><span><span class="type-var">'a</span> <a href="../Lwd_utils/index.html#type-monoid">Lwd_utils.monoid</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Lwd/index.html#type-t">Lwd.t</a></span></span></code></div><div class="spec-doc"><p>Observe the content of a table by reducing it with a monoid</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map_reduce" class="anchored"><a href="#val-map_reduce" class="anchor"></a><code><span><span class="keyword">val</span> map_reduce : 
  <span><span>( <span><span><span class="type-var">'a</span> <a href="#type-row">row</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'b</span> <a href="../Lwd_utils/index.html#type-monoid">Lwd_utils.monoid</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'b</span> <a href="../Lwd/index.html#type-t">Lwd.t</a></span></span></code></div><div class="spec-doc"><p>Observe the content of a table by mapping and reducing it</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iter" class="anchored"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><span>( <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Immediate, non reactive, iteration over elements of a table</p></div></div></div></body></html>